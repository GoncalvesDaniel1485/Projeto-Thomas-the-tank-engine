
CREATE DATABASE gerenciamento_ferrovias;


CREATE TABLE estacao (
    id_estacao SERIAL PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    cidade VARCHAR(100) NOT NULL,
    estado VARCHAR(50) NOT NULL
);


CREATE TABLE linha (
    id_linha SERIAL PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    estacao_origem INT NOT NULL,
    estacao_destino INT NOT NULL,
    distancia_km DECIMAL(6,2),
    FOREIGN KEY (estacao_origem) REFERENCES estacao(id_estacao),
    FOREIGN KEY (estacao_destino) REFERENCES estacao(id_estacao)
);


CREATE TABLE trem (
    id_trem SERIAL PRIMARY KEY,
    modelo VARCHAR(100) NOT NULL,
    capacidade INT NOT NULL,
    ano_fabricacao INT
);


CREATE TABLE funcionario (
    id_funcionario SERIAL PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    cargo VARCHAR(50) NOT NULL,
    data_admissao DATE NOT NULL
);


CREATE TABLE viagem (
    id_viagem SERIAL PRIMARY KEY,
    id_linha INT NOT NULL,
    id_trem INT NOT NULL,
    data_viagem DATE NOT NULL,
    horario_saida TIME NOT NULL,
    horario_chegada TIME NOT NULL,
    FOREIGN KEY (id_linha) REFERENCES linha(id_linha),
    FOREIGN KEY (id_trem) REFERENCES trem(id_trem)
);
